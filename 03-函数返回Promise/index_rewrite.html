<script>
  function execCode(counter) {
    let promise = new Promise((resolve, reject) => {
      setTimeout(() => {
        if (counter > 0) {
          let t = 0;
          for (let i = 0; i <= counter; i++) {
            t += i;
          }
          resolve(t);
        } else {
          rejectve(`${counter}有问题`);
        }
      }, 3000);
    });

    return promise;
  }

  let promise = execCode(100);

  promise.then(
    (value) => {
      console.log("成功了", value);
    },
    (reason) => {
      console.log("失败了", reason);
    }
  );
</script>
